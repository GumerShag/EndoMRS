<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui">
    <h:head>
        <meta charset="utf-8"></meta>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content=""></meta>
    <meta name="author" content=""></meta>
    <f:metadata>
        <f:viewParam name="patientId" value="#{patient.id}"/>
        <f:viewAction action="#{patient.loadPatientById()}"/>
    </f:metadata>
    <link rel="icon" href="img/favicon.ico"></link>
    
    <title>Карточка больного</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet"></link>
    <link href="/css/bootstrap-combobox.css" media="screen" rel="stylesheet" type="text/css"></link>
<!--     IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="css/ie10-viewport-bug-workaround.css" rel="stylesheet"></link>

<!--     Custom styles for this template -->
<!--    <link href="css/navbar-static-top.css" rel="stylesheet"></link>
-->    <link rel="stylesheet" href="css/bootstrap-datetimepicker.min.css" />
<!--     Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script src="/js/bootstrap-combobox.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        .navbar{
          padding-left: 20px;
          padding-right: 20px;
        }    
    </style>
    </h:head>
    <h:body>
 <div class="container-fluid" >
  <nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="nav navbar-nav navbar-left">
        <li class="navbar-brand"><span class="glyphicon glyphicon-user"></span> хирург Шагиянов Р.М.</li>
    </div>
    
    <ul class="nav navbar-nav navbar-right">
      <li><a href="main.xhtml"><span class="glyphicon glyphicon-home"></span> Начальная</a></li>
      <li><a href="protocoledit.xhtml?surveyname=fgds"><span class="glyphicon glyphicon-cog"></span> Настройки</a></li>
      <li><a href="#"><span class="glyphicon glyphicon-paperclip"></span> Отчеты</a></li>
    </ul>
  </div>
</nav>
 </div>  
     
  <div class="row">
        <div class="text-center">
           <h4>Карточка больного</h4>  
        </div> 
     </div>
<!--        Form start here-->
<h:form>
    <b:container style-class="">
        <b:panel >
            <b:row>
                <b:column medium-screen="2" offset="2">
                    <h4>ФИО</h4>
                </b:column>
                <b:column medium-screen="2">
                    <b:inputText placeholder="Фамилия" id="lastname" value="#{patient.lastname}" required="true" required-message="незаполнена Фамилия">
                        <!--                       ajax="true" autocomplete="false" update="@(.message)">-->
                    </b:inputText>
                </b:column>
                <b:column medium-screen="2">
                    <b:inputText placeholder="Имя" id="firstname" value="#{patient.firstname}" required="true">
                        <!--                       ajax="true" autocomplete="false" update="@(.message)">-->
                    </b:inputText>
                </b:column>
                <b:column medium-screen="2">
                    <b:inputText placeholder="Отчество" id="fathername" value="#{patient.fathername}" required="true">
                        <!--                       ajax="true" autocomplete="false" update="@(.message)">-->
                    </b:inputText>
                </b:column>
            </b:row>
            <b:row>
                <b:column medium-screen="2" offset="2">
                    <h4>Дата рождения</h4>
                </b:column>
                <b:column medium-screen="2" >
                    <b:inputText placeholder="ДД.ММ.ГГГГ" id="birthdate" value="#{patient.birthDate}" maxlength="10" required="true">

                    </b:inputText>
                </b:column>
                <b:column medium-screen="1" >
                    <h4>Возраст</h4>
                </b:column>
                <b:column medium-screen="1" >
                    <b:inputText  id="age" value="#{patient.age}" maxlength="3" required="true">

                    </b:inputText>
                </b:column>

            </b:row>
            <b:row>
                <b:column medium-screen="2" offset="2">
                    <h4>Пол</h4>
                </b:column>
                <b:column medium-screen="2">
                    <b:selectOneMenu value="#{patient.gengre}" id="gengre">
                        <f:selectItem itemLabel="Муж"  />
                        <f:selectItem itemLabel="Жен" />

                    </b:selectOneMenu>
                </b:column>
            </b:row>
            <b:row>
                <b:column medium-screen="2" offset="2">
                    <h4>Адрес</h4>
                </b:column>
                <b:column medium-screen="4">
                    <b:inputText value="#{patient.adress}" placeholder="Населенный пункт/Улица/Дом/Квартира" id="adress">

                    </b:inputText>
                </b:column>
            </b:row>
            <b:row>
                <b:column medium-screen="2" offset="2">
                    <h4>Район Башкирии</h4>
                </b:column>
                <b:column medium-screen="4">
                    <b:selectOneMenu value="#{patient.region}" id="region" >
                        <f:selectItem itemLabel="Выбрать"/>
                        <f:selectItem  itemLabel="Дюртюлинский"/>
                        <f:selectItem itemLabel="Илишевский"/>
                        <f:selectItem itemLabel="Давлекановский"/>
                    </b:selectOneMenu>
                </b:column>
            </b:row>
            <b:row>
                <b:column offset="9" >
                 <h:panelGrid columns="1"  >
                     <b:commandButton offset-md="1" id="updateinfo"  value="Обновить данные" look="success" icon="refresh" onclick="ajax:patient.updatePatientInfo()">  
                </b:commandButton> 
            </h:panelGrid>    
                </b:column>   
            </b:row>
                
        </b:panel>
        <b:panel title="Все обследования больного" look="primary" collapsible="false">
            <b:dataTable value="#{patient.surveyList}" var="sur" lang="ru">
                <b:dataTableColumn value = "#{sur.surveyName}" label = "Вид обследования" />
                <b:dataTableColumn value= "#{sur.date}" label = "Дата" order="desc"/>
                <b:dataTableColumn value = "#{sur.surgeonName}" label = "Врач"/>
                <b:dataTableColumn value = "" label = "Просмотр" orderable="false">
                    <b:button size="xs" value="Открыть обследование" look="info" outcome="/surveylook.xhtml?surveyId=#{sur.id}">
                        
                    </b:button>
                </b:dataTableColumn>
            
          </b:dataTable> 
          
           
        </b:panel>
        <b:row>
            <b:column offset="9" >
                <h:panelGrid columns="1"  >
                    <b:button value="Новое обследование" look="primary" icon="plus"  outcome="/newsurvey.xhtml?patientId=#{patient.id}">

                    </b:button> 
                </h:panelGrid>    
            </b:column>   
        </b:row>
        <br></br><br></br><br></br>

    </b:container>
</h:form>


<script type="text/javascript">
      //<![CDATA[
        $(document).ready(function(){
          $('.combobox').combobox()
        });
      //]]>
    </script>


    </h:body>
</html>

